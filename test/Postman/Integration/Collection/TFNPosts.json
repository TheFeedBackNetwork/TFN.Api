{
	"id": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
	"name": "TFNPosts",
	"description": "",
	"order": [
		"7a29c782-a88f-cf50-ac78-0db0e6cbbacf",
		"a4042c91-74b5-d7a3-5df4-56066ac36d3e",
		"4f64232d-3c09-788e-57e5-e4872a095478",
		"45765f2c-3e52-e74f-abc4-b07fc6bf2e0d",
		"9805dea6-4a31-3831-52ba-52ce9bde8f70",
		"7c69be7d-b68a-52a2-3583-b5093cf55ee6",
		"01d1f316-1ed5-cdd1-cd49-d799ac2e0fd7",
		"cfaf4ddc-4267-1c29-3c80-0fb75a9417bc",
		"d413f2d9-5d97-ba7e-1289-813eef3acf53",
		"7fa1d1b5-8dd4-9089-a18c-128913cf5385",
		"c264a23a-9227-8159-c7c1-1e301ca29b79",
		"f9812aea-470c-4f30-aac6-fd404679a644",
		"3bcc2da8-922c-c35c-2158-6d904134b046",
		"e26d7bc1-f853-0a36-2774-82b06967f257",
		"e960ff33-275a-b066-ab48-e39efbe40fb1",
		"16da2e54-4f71-3085-8b18-5e08ef0674b3",
		"d0a9f04c-d039-ae59-bfd5-2acedcd1b016",
		"c15511e0-bfec-55df-1043-9532c0b813b2",
		"5fb4708e-a996-2969-62b8-05cd63971f7f",
		"127a267b-eae5-15bc-8f66-8c1f29e5a337",
		"7ea6caf1-2b8f-db3e-6c66-5f042535e662",
		"84d6080a-8928-9415-7e4c-66638482779f"
	],
	"folders": [],
	"timestamp": 0,
	"owner": "26314",
	"public": false,
	"requests": [
		{
			"id": "01d1f316-1ed5-cdd1-cd49-d799ac2e0fd7",
			"headers": "Authorization: {{BobBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/credits/users/{{BobId}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "var schema = {\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": { type: \"string\" },\n        \"userId\": { type: \"string\" },\n        \"username\": { type: \"string\" },\n        \"totalCredits\": { type: \"integer\" }\n    },\n    \"additionalProperties\": true,\n    \"required\": [\"totalCredits\",\"userId\",\"id\",\"username\"]\n};\n\n\n\ntests[\"Is 200\"] = responseCode.code === 200;\nvar data = JSON.parse(responseBody);\nvar result = tv4.validateResult(data, schema);\ntests[\"Valid schema\"] = result.valid;\nbobsCredits = postman.getEnvironmentVariable(\"BobsCredits\"); \ntests[\"Credit Drop\"] = data.totalCredits < bobsCredits;\npostman.setEnvironmentVariable(\"BobsCredits\", data.totalCredits);",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487275124688,
			"name": "Credits [200] - Get Bobs Credit Drop",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a"
		},
		{
			"id": "127a267b-eae5-15bc-8f66-8c1f29e5a337",
			"headers": "Authorization: {{BobBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts/{{BobPostId}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "DELETE",
			"data": [],
			"dataMode": "raw",
			"tests": "\n\ntests[\"Is 200\"] = responseCode.code === 200;",
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"name": "Posts [200] - Bob deletes his post",
			"description": "",
			"rawModeData": "",
			"folder": null,
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"descriptionFormat": null
		},
		{
			"id": "16da2e54-4f71-3085-8b18-5e08ef0674b3",
			"headers": "Authorization: {{AliceBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts/{{AlicePostId}}/comments/{{BobCommentId}}/scores/{{AliceScoreId}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "DELETE",
			"data": [],
			"dataMode": "raw",
			"tests": "\n\ntests[\"Is 404\"] = responseCode.code === 404;",
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"name": "Posts [404] - Alice removes score that was deleted",
			"description": "",
			"folder": null,
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"descriptionFormat": null,
			"rawModeData": ""
		},
		{
			"id": "3bcc2da8-922c-c35c-2158-6d904134b046",
			"headers": "Authorization: {{BobBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/credits/users/{{BobId}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "var schema = {\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": { type: \"string\" },\n        \"userId\": { type: \"string\" },\n        \"username\": { type: \"string\" },\n        \"totalCredits\": { type: \"integer\" }\n    },\n    \"additionalProperties\": true,\n    \"required\": [\"totalCredits\",\"userId\",\"id\",\"username\"]\n};\n\n\n\ntests[\"Is 200\"] = responseCode.code === 200;\nvar data = JSON.parse(responseBody);\nvar result = tv4.validateResult(data, schema);\ntests[\"Valid schema\"] = result.valid;\nbobsCredits = postman.getEnvironmentVariable(\"BobsCredits\"); \ntests[\"Credit Drop\"] = data.totalCredits > bobsCredits;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487275131528,
			"name": "Credits [200] - Get Bobs Credit Rise",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a"
		},
		{
			"id": "45765f2c-3e52-e74f-abc4-b07fc6bf2e0d",
			"headers": "Authorization: {{BobBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/credits/users/{{BobId}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "var schema = {\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": { type: \"string\" },\n        \"userId\": { type: \"string\" },\n        \"username\": { type: \"string\" },\n        \"totalCredits\": { type: \"integer\" }\n    },\n    \"additionalProperties\": true,\n    \"required\": [\"totalCredits\",\"userId\",\"id\",\"username\"]\n};\n\n\n\ntests[\"Is 200\"] = responseCode.code === 200;\nvar data = JSON.parse(responseBody);\nvar result = tv4.validateResult(data, schema);\ntests[\"Valid schema\"] = result.valid;\n\npostman.setEnvironmentVariable(\"BobsCredits\", data.totalCredits);\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487275197495,
			"name": "Credits [200] - Get Bobs Credits",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a"
		},
		{
			"id": "4f64232d-3c09-788e-57e5-e4872a095478",
			"headers": "",
			"url": "{{TFNStsUrl}}/connect/token",
			"preRequestScript": "// Set variables for this test\npostman.setEnvironmentVariable(\"username\", \"postman@whereismytransport.com\");\npostman.setEnvironmentVariable(\"authority\", \"2CF0141F-B3DC-489B-86B8-DD0727C14497\");\npostman.setEnvironmentVariable(\"scope\", \"writerapi:agencies:read\");\npostman.setEnvironmentVariable(\"product\", [\"messenger\",\"writer\"]);\npostman.setEnvironmentVariable(\"amr\", [\"password\"]);",
			"pathVariables": {},
			"method": "POST",
			"data": [
				{
					"key": "client_id",
					"value": "{{TFNPostmanClient}}",
					"type": "text",
					"enabled": true
				},
				{
					"key": "grant_type",
					"value": "password",
					"type": "text",
					"enabled": true
				},
				{
					"key": "scope",
					"value": "posts.read posts.write posts.edit posts.delete credits.read profile openid",
					"type": "text",
					"enabled": true
				},
				{
					"key": "username",
					"value": "alice",
					"type": "text",
					"enabled": true
				},
				{
					"key": "password",
					"value": "lol123",
					"type": "text",
					"enabled": true
				}
			],
			"dataMode": "urlencoded",
			"tests": "var schema = {\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"nbf\": { type: \"integer\" },\n        \"exp\": { type: \"integer\" },\n        \"iss\": { type: \"string\" },\n        \"aud\": { type: \"array\" },\n        \"client_id\": { type: \"string\" },\n        \"scope\": { type: \"string\" },\n        \"sub\": { type: \"string\" },\n        \"auth_time\": { type: \"integer\" },\n        \"idp\": { type: \"string\" },\n        \"email\": { type: \"string\" },\n        \"amr\": { type: \"array\" },\n        \"jti\": { type: \"string\" },\n    },\n    \"additionalProperties\": false,\n    \"required\": [\"nbf\",\"exp\",\"iss\",\"aud\",\"client_id\",\"scope\",\"sub\",\"auth_time\",\"idp\",\"email\",\"amr\", \"jti\"]\n};\n\ntests[\"Is 200\"] = responseCode.code === 200;\n\nif (tests[\"Is 200\"])\n{\n    var data = JSON.parse(responseBody);\n    \n    var token = \"Bearer \" + data.access_token;\n    tests[\"Has Bearer Token\"] = token !== null && token !== \"\";\n    postman.setEnvironmentVariable(\"BearerToken\", token);\n    postman.setEnvironmentVariable(\"AliceBearerToken\", token);\n    // Decode the token\n    var token = data.access_token;\n    var decodedToken = atob(token.split(\".\")[1]);\n    tests[\"Decoded Token: \" + decodedToken] = true;\n    \n    // Validate the decoded token\n    var decodedTokenJson = JSON.parse(decodedToken);\n    var result = tv4.validateResult(decodedTokenJson, schema);\n    console.log(tv4.error);\n    postman.setEnvironmentVariable(\"AliceId\", decodedTokenJson.sub);\n    // Check each field in the token\n    tests[\"Has 'iss'\"] = decodedTokenJson.iss === postman.getEnvironmentVariable(\"TFNStsUrl\"); \n    tests[\"Has 'aud'\"] = decodedTokenJson.aud.indexOf(postman.getEnvironmentVariable(\"TFNStsUrl\") + \"/resources\") > -1 ;\n    tests[\"Has 'client_id'\"] = decodedTokenJson.client_id === postman.getEnvironmentVariable(\"TFNPostmanClient\");\n    tests[\"Has 'scope'\"] = decodedTokenJson.scope = postman.getEnvironmentVariable(\"scope\");\n    tests[\"Has 'idp'\"] = decodedTokenJson.idp = \"idsrv\";\n}",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487273618508,
			"name": "Token [200] - Token for Alice",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a"
		},
		{
			"id": "5fb4708e-a996-2969-62b8-05cd63971f7f",
			"headers": "Authorization: {{BobBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts/{{AlicePostId}}/comments/{{BobCommentId}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "DELETE",
			"data": [],
			"dataMode": "raw",
			"tests": "\n\ntests[\"Is 200\"] = responseCode.code === 200;",
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"name": "Posts [200] - Bob deletes his comment",
			"description": "",
			"folder": null,
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"rawModeData": "",
			"descriptionFormat": null
		},
		{
			"id": "7a29c782-a88f-cf50-ac78-0db0e6cbbacf",
			"headers": "",
			"url": "{{TFNStsUrl}}/connect/token",
			"preRequestScript": "// Set variables for this test\npostman.setEnvironmentVariable(\"username\", \"postman@whereismytransport.com\");\npostman.setEnvironmentVariable(\"authority\", \"2CF0141F-B3DC-489B-86B8-DD0727C14497\");\npostman.setEnvironmentVariable(\"scope\", \"writerapi:agencies:read\");\npostman.setEnvironmentVariable(\"product\", [\"messenger\",\"writer\"]);\npostman.setEnvironmentVariable(\"amr\", [\"password\"]);",
			"pathVariables": {},
			"method": "POST",
			"data": [
				{
					"key": "client_id",
					"value": "{{TFNFrontendClient}}",
					"type": "text",
					"enabled": true
				},
				{
					"key": "grant_type",
					"value": "client_credentials",
					"type": "text",
					"enabled": true
				},
				{
					"key": "scope",
					"value": "posts.read",
					"type": "text",
					"enabled": true
				}
			],
			"dataMode": "urlencoded",
			"tests": "var schema = {\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"nbf\": { type: \"integer\" },\n        \"exp\": { type: \"integer\" },\n        \"iss\": { type: \"string\" },\n        \"aud\": { type: \"array\" },\n        \"client_id\": { type: \"string\" },\n        \"scope\": { type: \"string\" },\n        \"sub\": { type: \"string\" },\n        \"auth_time\": { type: \"integer\" },\n        \"idp\": { type: \"string\" },\n        \"email\": { type: \"string\" },\n        \"amr\": { type: \"array\" },\n        \"jti\": { type: \"string\" },\n    },\n    \"additionalProperties\": true,\n    \"required\": [\"nbf\",\"exp\",\"iss\",\"aud\",\"client_id\",\"scope\",\"sub\",\"auth_time\",\"idp\",\"email\",\"amr\", \"jti\"]\n};\n\ntests[\"Is 200\"] = responseCode.code === 200;\n\n\nif (tests[\"Is 200\"])\n{\n    var data = JSON.parse(responseBody);\n    \n    var token = \"Bearer \" + data.access_token;\n    tests[\"Has Bearer Token\"] = token !== null && token !== \"\";\n    postman.setEnvironmentVariable(\"BearerToken\", token);\n\n    \n    // Decode the token\n    var token = data.access_token;\n    var decodedToken = atob(token.split(\".\")[1]);\n    tests[\"Decoded Token: \" + decodedToken] = true;\n    \n    // Validate the decoded token\n    var decodedTokenJson = JSON.parse(decodedToken);\n    var result = tv4.validateResult(decodedTokenJson, schema);\n    console.log(tv4.error);\n    //tests[\"Decoded Token valid schema\"] = result.valid;\n    \n    // Check each field in the token\n    tests[\"Has 'iss'\"] = decodedTokenJson.iss === postman.getEnvironmentVariable(\"TFNStsUrl\"); \n    tests[\"Has 'aud'\"] = decodedTokenJson.aud.indexOf(postman.getEnvironmentVariable(\"TFNStsUrl\") + \"/resources\") > -1 ;\n    tests[\"Has 'client_id'\"] = decodedTokenJson.client_id === postman.getEnvironmentVariable(\"TFNFrontendClient\");\n\n}\n\n// Clear test environment variables",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487253421172,
			"name": "Token [200] - Token for TFN Api (CC flow)",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a"
		},
		{
			"id": "7c69be7d-b68a-52a2-3583-b5093cf55ee6",
			"headers": "Authorization: {{BobBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "var data = JSON.parse(responseBody);\n\npostman.setEnvironmentVariable(\"BobPostId\", data.id);\n\ntests[\"Is 201\"] = responseCode.code === 201;",
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"time": 1475141896672,
			"name": "Posts [201] - Bob Add Post",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"descriptionFormat": null,
			"folder": null,
			"rawModeData": "{\n  \"text\" : \"This is my new track foo on my soundcloud bobdj\",\n  \"trackUrl\" : \"http://soundcloud.com/bobdj/foo\",\n  \"tags\" : [\"dub\",\"140\"],\n  \"genre\" : \"Dubstep\"\n}"
		},
		{
			"id": "7ea6caf1-2b8f-db3e-6c66-5f042535e662",
			"headers": "Accept: application/json\nContent-Type: application/json\n",
			"url": "{{TFNApiUrl}}/posts",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "tests[\"Is 401\"] = responseCode.code === 401;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487259305452,
			"name": "Posts [401] - Get All",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a"
		},
		{
			"id": "7fa1d1b5-8dd4-9089-a18c-128913cf5385",
			"headers": "Authorization: {{AliceBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts/{{BobPostId}}/comments",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "var data = JSON.parse(responseBody);\n\npostman.setEnvironmentVariable(\"AliceCommentId\", data.id);\n\ntests[\"Is 201\"] = responseCode.code === 201;",
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"name": "Posts [201] - Alice Comments To Bob",
			"description": "",
			"folder": null,
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"descriptionFormat": null,
			"rawModeData": "{\n  \"text\" : \"foo bar baz bob foo bar baz!\",\n}"
		},
		{
			"id": "84d6080a-8928-9415-7e4c-66638482779f",
			"headers": "Authorization: {{BearerToken}}\nAccept: application/json\nContent-Type: application/json\n",
			"url": "{{TFNApiUrl}}/posts",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "tests[\"Is 200\"] = responseCode.code === 200;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487259317129,
			"name": "Posts [200] - Get All",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a"
		},
		{
			"id": "9805dea6-4a31-3831-52ba-52ce9bde8f70",
			"headers": "Authorization: {{AliceBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/credits/users/{{AliceId}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "var schema = {\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": { type: \"string\" },\n        \"userId\": { type: \"string\" },\n        \"username\": { type: \"string\" },\n        \"totalCredits\": { type: \"integer\" }\n    },\n    \"additionalProperties\": true,\n    \"required\": [\"totalCredits\",\"userId\",\"id\",\"username\"]\n};\n\n\n\ntests[\"Is 200\"] = responseCode.code === 200;\nvar data = JSON.parse(responseBody);\nvar result = tv4.validateResult(data, schema);\ntests[\"Valid schema\"] = result.valid;\n\npostman.setEnvironmentVariable(\"AlicesCredits\", data.totalCredits);\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487275190624,
			"name": "Credits [200] - Get Alices Credits",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a"
		},
		{
			"id": "a4042c91-74b5-d7a3-5df4-56066ac36d3e",
			"headers": "",
			"url": "{{TFNStsUrl}}/connect/token",
			"preRequestScript": "// Set variables for this test\npostman.setEnvironmentVariable(\"username\", \"postman@whereismytransport.com\");\npostman.setEnvironmentVariable(\"authority\", \"2CF0141F-B3DC-489B-86B8-DD0727C14497\");\npostman.setEnvironmentVariable(\"scope\", \"writerapi:agencies:read\");\npostman.setEnvironmentVariable(\"product\", [\"messenger\",\"writer\"]);\npostman.setEnvironmentVariable(\"amr\", [\"password\"]);",
			"pathVariables": {},
			"method": "POST",
			"data": [
				{
					"key": "client_id",
					"value": "{{TFNPostmanClient}}",
					"type": "text",
					"enabled": true
				},
				{
					"key": "grant_type",
					"value": "password",
					"type": "text",
					"enabled": true
				},
				{
					"key": "scope",
					"value": "posts.read posts.write posts.edit posts.delete credits.read profile openid",
					"type": "text",
					"enabled": true
				},
				{
					"key": "username",
					"value": "bob",
					"type": "text",
					"enabled": true
				},
				{
					"key": "password",
					"value": "lol123",
					"type": "text",
					"enabled": true
				}
			],
			"dataMode": "urlencoded",
			"tests": "var schema = {\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"nbf\": { type: \"integer\" },\n        \"exp\": { type: \"integer\" },\n        \"iss\": { type: \"string\" },\n        \"aud\": { type: \"array\" },\n        \"client_id\": { type: \"string\" },\n        \"scope\": { type: \"string\" },\n        \"sub\": { type: \"string\" },\n        \"auth_time\": { type: \"integer\" },\n        \"idp\": { type: \"string\" },\n        \"email\": { type: \"string\" },\n        \"amr\": { type: \"array\" },\n        \"jti\": { type: \"string\" },\n    },\n    \"additionalProperties\": false,\n    \"required\": [\"nbf\",\"exp\",\"iss\",\"aud\",\"client_id\",\"scope\",\"sub\",\"auth_time\",\"idp\",\"email\",\"amr\", \"jti\"]\n};\n\ntests[\"Is 200\"] = responseCode.code === 200;\n\nif (tests[\"Is 200\"])\n{\n    var data = JSON.parse(responseBody);\n    \n    var token = \"Bearer \" + data.access_token;\n    tests[\"Has Bearer Token\"] = token !== null && token !== \"\";\n    postman.setEnvironmentVariable(\"BearerToken\", token);\n    postman.setEnvironmentVariable(\"BobBearerToken\", token);\n    // Decode the token\n    var token = data.access_token;\n    var decodedToken = atob(token.split(\".\")[1]);\n    tests[\"Decoded Token: \" + decodedToken] = true;\n    \n    // Validate the decoded token\n    var decodedTokenJson = JSON.parse(decodedToken);\n    var result = tv4.validateResult(decodedTokenJson, schema);\n    console.log(tv4.error);\n    postman.setEnvironmentVariable(\"BobId\", decodedTokenJson.sub);\n    // Check each field in the token\n    tests[\"Has 'iss'\"] = decodedTokenJson.iss === postman.getEnvironmentVariable(\"TFNStsUrl\"); \n    tests[\"Has 'aud'\"] = decodedTokenJson.aud.indexOf(postman.getEnvironmentVariable(\"TFNStsUrl\") + \"/resources\") > -1 ;\n    tests[\"Has 'client_id'\"] = decodedTokenJson.client_id === postman.getEnvironmentVariable(\"TFNPostmanClient\");\n    tests[\"Has 'scope'\"] = decodedTokenJson.scope = postman.getEnvironmentVariable(\"scope\");\n    tests[\"Has 'idp'\"] = decodedTokenJson.idp = \"idsrv\";\n}",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487273625052,
			"name": "Token [200] - Token for Bob",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a"
		},
		{
			"id": "c15511e0-bfec-55df-1043-9532c0b813b2",
			"headers": "Authorization: {{AliceBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts/{{BobPostId}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "DELETE",
			"data": [],
			"dataMode": "raw",
			"tests": "tests[\"Is 403\"] = responseCode.code === 403;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487258147976,
			"name": "Posts [403] - Alice tries to delete bobs post",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"rawModeData": ""
		},
		{
			"id": "c264a23a-9227-8159-c7c1-1e301ca29b79",
			"headers": "Authorization: {{BobBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts/{{AlicePostId}}/comments",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "var data = JSON.parse(responseBody);\n\npostman.setEnvironmentVariable(\"BobCommentId\", data.id);\n\ntests[\"Is 201\"] = responseCode.code === 201;",
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"name": "Posts [201] - Bob Comments To Alice",
			"description": "",
			"folder": null,
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"descriptionFormat": null,
			"rawModeData": "{\n  \"text\" : \"foo bar alice foo bar!\"\n}"
		},
		{
			"id": "cfaf4ddc-4267-1c29-3c80-0fb75a9417bc",
			"headers": "Authorization: {{AliceBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "var data = JSON.parse(responseBody);\n\npostman.setEnvironmentVariable(\"AlicePostId\", data.id);\n\ntests[\"Is 201\"] = responseCode.code === 201;",
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"time": 1475141937905,
			"name": "Posts [201] - Alice Add Post",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"descriptionFormat": null,
			"folder": null,
			"rawModeData": "{\n  \"text\" : \"This is my test post please ignore\",\n  \"trackUrl\" : \"http://soundcloud.com/alicedj/bar\",\n  \"tags\" : [\"goa\",\"asot\"],\n  \"genre\" : \"Trance\"\n}"
		},
		{
			"id": "d0a9f04c-d039-ae59-bfd5-2acedcd1b016",
			"headers": "Authorization: {{AliceBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts/{{AlicePostId}}/comments/{{BobCommentId}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "DELETE",
			"data": [],
			"dataMode": "raw",
			"tests": "tests[\"Is 403\"] = responseCode.code === 403;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487258116114,
			"name": "Posts [403] - Alice tries to delete bobs comment",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"rawModeData": ""
		},
		{
			"id": "d413f2d9-5d97-ba7e-1289-813eef3acf53",
			"headers": "Authorization: {{AliceBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/credits/users/{{AliceId}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "var schema = {\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": { type: \"string\" },\n        \"userId\": { type: \"string\" },\n        \"username\": { type: \"string\" },\n        \"totalCredits\": { type: \"integer\" }\n    },\n    \"additionalProperties\": true,\n    \"required\": [\"totalCredits\",\"userId\",\"id\",\"username\"]\n};\n\n\ntests[\"Is 200\"] = responseCode.code === 200;\nvar data = JSON.parse(responseBody);\nvar result = tv4.validateResult(data, schema);\ntests[\"Valid schema\"] = result.valid;\nalicesCredits = postman.getEnvironmentVariable(\"AlicesCredits\"); \ntests[\"Credit Drop\"] = data.totalCredits < alicesCredits;\npostman.setEnvironmentVariable(\"AlicesCredits\", data.totalCredits);",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487275368640,
			"name": "Credits [200] - Get Alices Credit Drop",
			"description": "",
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a"
		},
		{
			"id": "e26d7bc1-f853-0a36-2774-82b06967f257",
			"headers": "Authorization: {{AliceBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts/{{AlicePostId}}/comments/{{BobCommentId}}/scores",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "tests[\"Is 400\"] = responseCode.code === 400;",
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"name": "Posts [400] - Alice sends another score",
			"description": "",
			"folder": null,
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"descriptionFormat": null,
			"rawModeData": "{\n  \"text\" : \"foo bar baz bob foo bar baz!\",\n}"
		},
		{
			"id": "e960ff33-275a-b066-ab48-e39efbe40fb1",
			"headers": "Authorization: {{AliceBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts/{{AlicePostId}}/comments/{{BobCommentId}}/scores/{{AliceScoreId}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "DELETE",
			"data": [],
			"dataMode": "raw",
			"tests": "\n\ntests[\"Is 200\"] = responseCode.code === 200;",
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"name": "Posts [200] - Alice removes score on bob",
			"description": "",
			"folder": null,
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"descriptionFormat": null,
			"rawModeData": "{\n  \"text\" : \"foo bar baz bob foo bar baz!\",\n}"
		},
		{
			"id": "f9812aea-470c-4f30-aac6-fd404679a644",
			"headers": "Authorization: {{AliceBearerToken}}\nContent-Type: application/json\nAccept: application/json\n",
			"url": "{{TFNApiUrl}}/posts/{{AlicePostId}}/comments/{{BobCommentId}}/scores",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "var data = JSON.parse(responseBody);\n\npostman.setEnvironmentVariable(\"AliceScoreId\", data.id);\n\ntests[\"Is 201\"] = responseCode.code === 201;",
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"name": "Posts [201] - Alice Scores  Bobs Comment",
			"description": "",
			"folder": null,
			"collectionId": "1ddd9df8-4bdf-10fb-6df3-e23aae62173a",
			"descriptionFormat": null,
			"rawModeData": "{\n  \"text\" : \"foo bar baz bob foo bar baz!\",\n}"
		}
	]
}